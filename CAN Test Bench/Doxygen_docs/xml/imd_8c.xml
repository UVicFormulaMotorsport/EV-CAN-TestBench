<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.16">
  <compounddef id="imd_8c" kind="file" language="C++">
    <compoundname>imd.c</compoundname>
    <includes refid="imd_8h" local="yes">imd.h</includes>
    <includes refid="can_8h" local="yes">can.h</includes>
    <includes refid="main_8h" local="yes">main.h</includes>
    <includes refid="constants_8h" local="yes">constants.h</includes>
    <includes refid="uvfr__utils_8h" local="yes">uvfr_utils.h</includes>
    <includes refid="pdu_8h" local="yes">pdu.h</includes>
    <incdepgraph>
      <node id="5">
        <label>stdarg.h</label>
      </node>
      <node id="13">
        <label>tim.h</label>
        <link refid="tim_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="2">
        <label>imd.h</label>
        <link refid="imd_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="26">
        <label>dash.h</label>
        <link refid="dash_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="21">
        <label>driving_loop.h</label>
        <link refid="driving__loop_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>temp_monitoring.h</label>
        <link refid="temp__monitoring_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="32">
        <label>stdint.h</label>
      </node>
      <node id="33">
        <label>stdlib.h</label>
      </node>
      <node id="28">
        <label>oled.h</label>
        <link refid="oled_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>adc.h</label>
        <link refid="adc_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>cmsis_os.h</label>
      </node>
      <node id="6">
        <label>uvfr_utils.h</label>
        <link refid="uvfr__utils_8h"/>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
      </node>
      <node id="18">
        <label>message_buffer.h</label>
      </node>
      <node id="24">
        <label>bms.h</label>
        <link refid="bms_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>spi.h</label>
        <link refid="spi_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="27">
        <label>pdu.h</label>
        <link refid="pdu_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>motor_controller.h</label>
        <link refid="motor__controller_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>uvfr_settings.h</label>
        <link refid="uvfr__settings_8h"/>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
        <childnode refid="24" relation="include">
        </childnode>
      </node>
      <node id="22">
        <label>daq.h</label>
        <link refid="daq_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>gpio.h</label>
        <link refid="gpio_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="23">
        <label>rb_tree.h</label>
        <link refid="rb__tree_8h"/>
      </node>
      <node id="1">
        <label>Core/Src/imd.c</label>
        <link refid="imd_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>constants.h</label>
        <link refid="constants_8h"/>
      </node>
      <node id="10">
        <label>can.h</label>
        <link refid="can_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>uvfr_global_config.h</label>
        <link refid="uvfr__global__config_8h"/>
      </node>
      <node id="31">
        <label>FreeRTOSConfig.h</label>
        <link refid="_free_r_t_o_s_config_8h"/>
      </node>
      <node id="25">
        <label>uvfr_state_engine.h</label>
        <link refid="uvfr__state__engine_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="30">
        <label>odometer.h</label>
        <link refid="odometer_8h"/>
      </node>
      <node id="4">
        <label>stm32f4xx_hal.h</label>
      </node>
      <node id="16">
        <label>FreeRTOS.h</label>
      </node>
      <node id="12">
        <label>dma.h</label>
        <link refid="dma_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="17">
        <label>task.h</label>
      </node>
      <node id="3">
        <label>main.h</label>
        <link refid="main_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="imd_8c_1a23ac1f047a25cf90d97877c21a7586ff" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_status_bits</definition>
        <argsstring></argsstring>
        <name>IMD_status_bits</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="19" column="9" bodyfile="Core/Src/imd.c" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_High_Uncertainty</definition>
        <argsstring></argsstring>
        <name>IMD_High_Uncertainty</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="20" column="9" bodyfile="Core/Src/imd.c" bodystart="20" bodyend="-1"/>
        <referencedby refid="imd_8c_1adb4d085b7b1f3e5a860c45aa5a404294" compoundref="imd_8c" startline="312" endline="334">IMD_Check_Isolation_Resistances</referencedby>
        <referencedby refid="imd_8c_1af81ff089b3fabafdfa49c3b816ded80e" compoundref="imd_8c" startline="296" endline="307">IMD_Check_Isolation_State</referencedby>
        <referencedby refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" compoundref="imd_8c" startline="213" endline="254">IMD_Check_Status_Bits</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a5d147289d7432f5d61d43264c30305fb" prot="public" static="no" mutable="no">
        <type>uint32_t</type>
        <definition>uint32_t IMD_Read_Part_Name[4]</definition>
        <argsstring>[4]</argsstring>
        <name>IMD_Read_Part_Name</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="25" column="10" bodyfile="Core/Src/imd.c" bodystart="25" bodyend="-1"/>
        <referencedby refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a4e45f48e8a434f56675ac3d5879de796" prot="public" static="no" mutable="no">
        <type>const uint32_t</type>
        <definition>const uint32_t IMD_Expected_Part_Name[4]</definition>
        <argsstring>[4]</argsstring>
        <name>IMD_Expected_Part_Name</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="26" column="16" bodyfile="Core/Src/imd.c" bodystart="26" bodyend="-1"/>
        <referencedby refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a10a782cdb04731b5d092fb021edab5f3" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Part_Name_0_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Part_Name_0_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="28" column="9" bodyfile="Core/Src/imd.c" bodystart="28" bodyend="-1"/>
        <referencedby refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a479ffaedc92d63ffd670ce28bd246076" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Part_Name_1_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Part_Name_1_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="29" column="9" bodyfile="Core/Src/imd.c" bodystart="29" bodyend="-1"/>
        <referencedby refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1ac9c5471411ecb29f7447f657747e55f5" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Part_Name_2_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Part_Name_2_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="30" column="9" bodyfile="Core/Src/imd.c" bodystart="30" bodyend="-1"/>
        <referencedby refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a33de8b2346fb2365fb32570d16551fb9" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Part_Name_3_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Part_Name_3_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="31" column="9" bodyfile="Core/Src/imd.c" bodystart="31" bodyend="-1"/>
        <referencedby refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1abfc7f2bfdb786d652f47184917c4e06b" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Part_Name_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Part_Name_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="32" column="9" bodyfile="Core/Src/imd.c" bodystart="32" bodyend="-1"/>
        <referencedby refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" prot="public" static="no" mutable="no">
        <type>uint32_t</type>
        <definition>uint32_t IMD_Read_Version[3]</definition>
        <argsstring>[3]</argsstring>
        <name>IMD_Read_Version</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="35" column="10" bodyfile="Core/Src/imd.c" bodystart="35" bodyend="-1"/>
        <referencedby refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" compoundref="imd_8c" startline="443" endline="478">IMD_Check_Version</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a3996ec9ae905b88cb1ee925f02f14d2b" prot="public" static="no" mutable="no">
        <type>const uint32_t</type>
        <definition>const uint32_t IMD_Expected_Version[3]</definition>
        <argsstring>[3]</argsstring>
        <name>IMD_Expected_Version</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="36" column="16" bodyfile="Core/Src/imd.c" bodystart="36" bodyend="-1"/>
        <referencedby refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" compoundref="imd_8c" startline="443" endline="478">IMD_Check_Version</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a882acf301b569fbc57a5df71faeedecc" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Version_0_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Version_0_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="38" column="9" bodyfile="Core/Src/imd.c" bodystart="38" bodyend="-1"/>
        <referencedby refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" compoundref="imd_8c" startline="443" endline="478">IMD_Check_Version</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a89c19efcdae7b584557b4ef711837af6" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Version_1_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Version_1_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="39" column="9" bodyfile="Core/Src/imd.c" bodystart="39" bodyend="-1"/>
        <referencedby refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" compoundref="imd_8c" startline="443" endline="478">IMD_Check_Version</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a462db37dc46e1576e9e615d468fc58ff" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Version_2_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Version_2_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="40" column="9" bodyfile="Core/Src/imd.c" bodystart="40" bodyend="-1"/>
        <referencedby refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" compoundref="imd_8c" startline="443" endline="478">IMD_Check_Version</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1adef02ad9e41f0d6f9e1f0f694a5d04f7" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Version_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Version_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="41" column="9" bodyfile="Core/Src/imd.c" bodystart="41" bodyend="-1"/>
        <referencedby refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" compoundref="imd_8c" startline="443" endline="478">IMD_Check_Version</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" prot="public" static="no" mutable="no">
        <type>uint32_t</type>
        <definition>uint32_t IMD_Read_Serial_Number[4]</definition>
        <argsstring>[4]</argsstring>
        <name>IMD_Read_Serial_Number</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="45" column="10" bodyfile="Core/Src/imd.c" bodystart="45" bodyend="-1"/>
        <referencedby refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1ae609b1c80bcf96677b5f57ef1c7b7497" prot="public" static="no" mutable="no">
        <type>const uint32_t</type>
        <definition>const uint32_t IMD_Expected_Serial_Number[4]</definition>
        <argsstring>[4]</argsstring>
        <name>IMD_Expected_Serial_Number</name>
        <initializer>= {0xB8DD9AF9,
												0x6094F48B,
												0x1F1C3794,
												0xFCF9A95B}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="46" column="16" bodyfile="Core/Src/imd.c" bodystart="46" bodyend="-1"/>
        <referencedby refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a45d76c9654bc38b93b5132911d1a7d9e" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Serial_Number_0_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Serial_Number_0_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="50" column="9" bodyfile="Core/Src/imd.c" bodystart="50" bodyend="-1"/>
        <referencedby refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1aa06ed9ddd147d5411e8f920171a54fc5" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Serial_Number_1_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Serial_Number_1_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="51" column="9" bodyfile="Core/Src/imd.c" bodystart="51" bodyend="-1"/>
        <referencedby refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a66157fb5f0181e14ef3730b945a70c97" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Serial_Number_2_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Serial_Number_2_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="52" column="9" bodyfile="Core/Src/imd.c" bodystart="52" bodyend="-1"/>
        <referencedby refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a44410c46ba61bd668ce70bf14f09f451" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Serial_Number_3_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Serial_Number_3_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="53" column="9" bodyfile="Core/Src/imd.c" bodystart="53" bodyend="-1"/>
        <referencedby refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1ac493eb0ec9882a9ff2c6d340707c19e6" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_Serial_Number_Set</definition>
        <argsstring></argsstring>
        <name>IMD_Serial_Number_Set</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="54" column="9" bodyfile="Core/Src/imd.c" bodystart="54" bodyend="-1"/>
        <referencedby refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a5b8ada827e9888be105e0bc8c27006f3" prot="public" static="no" mutable="no">
        <type>int32_t</type>
        <definition>int32_t IMD_Temperature</definition>
        <argsstring></argsstring>
        <name>IMD_Temperature</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="57" column="9" bodyfile="Core/Src/imd.c" bodystart="57" bodyend="-1"/>
        <referencedby refid="imd_8c_1a1a18f8d11173ee691822b5a712cf1617" compoundref="imd_8c" startline="358" endline="364">IMD_Check_Temperature</referencedby>
      </memberdef>
      <memberdef kind="variable" id="imd_8c_1a208e957d0a18b23cb59f4eedd1c855cc" prot="public" static="no" mutable="no">
        <type>uint8_t</type>
        <definition>uint8_t IMD_error_flags_requested</definition>
        <argsstring></argsstring>
        <name>IMD_error_flags_requested</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="62" column="9" bodyfile="Core/Src/imd.c" bodystart="62" bodyend="-1"/>
        <referencedby refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" compoundref="imd_8c" startline="213" endline="254">IMD_Check_Status_Bits</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Parse_Message</definition>
        <argsstring>(int DLC, uint8_t Data[])</argsstring>
        <name>IMD_Parse_Message</name>
        <param>
          <type>int</type>
          <declname>DLC</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="68" column="6" bodyfile="Core/Src/imd.c" bodystart="68" bodyend="173"/>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa88e842a14bd3662858b52abbefad1680" compoundref="imd_8h" startline="49">battery_voltage</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa86fdcb1bb1742680706316d50c9b8fcf" compoundref="imd_8h" startline="52">Error_flags</references>
        <references refid="main_8h_1a1730ffe1e560465665eb47d9264826f9" compoundref="main_8c" startline="378" endline="388">Error_Handler</references>
        <references refid="imd_8c_1ac94e0b660190e6ce0d376d407627057e" compoundref="imd_8c" startline="351" endline="356">IMD_Check_Battery_Voltage</references>
        <references refid="imd_8c_1a0cfe9b1a6472c4a5d0ca154a4e9e7bb0" compoundref="imd_8c" startline="257" endline="291">IMD_Check_Error_Flags</references>
        <references refid="imd_8c_1a686301a85070c84e89af3e1cc0a159ae" compoundref="imd_8c" startline="337" endline="341">IMD_Check_Isolation_Capacitances</references>
        <references refid="imd_8c_1adb4d085b7b1f3e5a860c45aa5a404294" compoundref="imd_8c" startline="312" endline="334">IMD_Check_Isolation_Resistances</references>
        <references refid="imd_8c_1af81ff089b3fabafdfa49c3b816ded80e" compoundref="imd_8c" startline="296" endline="307">IMD_Check_Isolation_State</references>
        <references refid="imd_8c_1a6f6abcfa57cc41a7b1249c0157702a1c" compoundref="imd_8c" startline="388" endline="395">IMD_Check_Max_Battery_Working_Voltage</references>
        <references refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" compoundref="imd_8c" startline="401" endline="441">IMD_Check_Part_Name</references>
        <references refid="imd_8c_1a00c843b8f3e8cf4569ea9008cd7db9d2" compoundref="imd_8c" startline="376" endline="378">IMD_Check_Safety_Touch_Current</references>
        <references refid="imd_8c_1abc49be24256f1a93674e290546384348" compoundref="imd_8c" startline="369" endline="373">IMD_Check_Safety_Touch_Energy</references>
        <references refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" compoundref="imd_8c" startline="483" endline="522">IMD_Check_Serial_Number</references>
        <references refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" compoundref="imd_8c" startline="213" endline="254">IMD_Check_Status_Bits</references>
        <references refid="imd_8c_1a1a18f8d11173ee691822b5a712cf1617" compoundref="imd_8c" startline="358" endline="364">IMD_Check_Temperature</references>
        <references refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" compoundref="imd_8c" startline="443" endline="478">IMD_Check_Version</references>
        <references refid="imd_8c_1a0fc857559d80dd701aec763dd6911383" compoundref="imd_8c" startline="344" endline="348">IMD_Check_Voltages_Vp_and_Vn</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa1f57f433823678afb675a0118355b41c" compoundref="imd_8h" startline="43">isolation_capacitances</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aac4f56ef8fddf7442d16abdcef0ee35ae" compoundref="imd_8h" startline="38">isolation_resistances</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aabbce6aa84dd484b90a148c9893f29c38" compoundref="imd_8h" startline="34">isolation_state</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa194e665f65c42e02190f2871ecfd3eed" compoundref="imd_8h" startline="61">Max_battery_working_voltage</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea9f7942276dd9e12e41f0463701086e7d" compoundref="imd_8h" startline="84">Part_name_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea6172e87521e48caf627c729daa8b6f59" compoundref="imd_8h" startline="85">Part_name_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea98d7a9f4550631a81ea2c5a4a215a981" compoundref="imd_8h" startline="86">Part_name_2</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea086d70441c24f02a8abceeee41562cde" compoundref="imd_8h" startline="87">Part_name_3</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa64c31deedf3ed7b386711c4c6825456f" compoundref="imd_8h" startline="58">safety_touch_current</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aae62307414b8266d9beb9dcffc335f504" compoundref="imd_8h" startline="55">safety_touch_energy</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea453d45b6245737d4987dd4b78a2e464a" compoundref="imd_8h" startline="91">Serial_number_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea29cf9ca0d526194e6ce71ff99120ee9e" compoundref="imd_8h" startline="92">Serial_number_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea87fc8ea63ac933e1e441f105dce28cdb" compoundref="imd_8h" startline="93">Serial_number_2</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eaf9d06047340a1a4185e714ca761f891e" compoundref="imd_8h" startline="94">Serial_number_3</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa636f89bb3814dde8c07ec0446f72d28f" compoundref="imd_8h" startline="64">Temperature</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eac87b1e30788367a709363dba4ad7f238" compoundref="imd_8h" startline="95">Uptime_counter</references>
        <references refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca23a10ada814d11a9a1044ede3a821688" compoundref="imd_8h" startline="102">Vb_hi_res</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea5eb2adcd1cb7d65f6c590b6f6b7ee322" compoundref="imd_8h" startline="88">Version_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eafcc458d57f1b3273ae319230922231a4" compoundref="imd_8h" startline="89">Version_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eafb60bb95154ac28254f2e8dfbc82c638" compoundref="imd_8h" startline="90">Version_2</references>
        <references refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca65563450695b30beae4032ff330f0e6f" compoundref="imd_8h" startline="101">Vexc_hi_res</references>
        <references refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca781dcc0628d7284c0e9e0be67cd3365b" compoundref="imd_8h" startline="99">Vn_hi_res</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aab731b0ae179fe84519337374868be1d1" compoundref="imd_8h" startline="46">voltages_Vp_and_Vn</references>
        <references refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca6b90089e224b90d87a6cf113e5e36f22" compoundref="imd_8h" startline="100">Vp_hi_res</references>
        <references refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca6d4bdc992b68f8ee4aea88056639af5d" compoundref="imd_8h" startline="103">Vpwr_hi_res</references>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Request_Status</definition>
        <argsstring>(uint8_t Status)</argsstring>
        <name>IMD_Request_Status</name>
        <param>
          <type>uint8_t</type>
          <declname>Status</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="180" column="6" bodyfile="Core/Src/imd.c" bodystart="180" bodyend="191"/>
        <references refid="main_8h_1a1730ffe1e560465665eb47d9264826f9" compoundref="main_8c" startline="378" endline="388">Error_Handler</references>
        <references refid="can_8h_1ab77168d14df04ccca5d48612ee21ced8" compoundref="can_8c" startline="147">hcan2</references>
        <references refid="constants_8h_1a1d489aa29fe8cf552f71b550e8088272a242c64f8aaa09a26d5f586483d692f83" compoundref="constants_8h" startline="16">IMD_CAN_ID_Tx</references>
        <references refid="constants_8h_1af553c31425b32bd9c020380c942ed3bd" compoundref="constants_8c" startline="7">TxData</references>
        <references refid="constants_8h_1a3e35a666d459f2ac92fc7c35334ff0ff" compoundref="constants_8c" startline="4">TxHeader</references>
        <references refid="constants_8h_1aedd1e4ac418a9697f9f41a2713d49569" compoundref="constants_8c" startline="8">TxMailbox</references>
        <referencedby refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" compoundref="imd_8c" startline="213" endline="254">IMD_Check_Status_Bits</referencedby>
        <referencedby refid="imd_8c_1a80b26177d8aa0c0e803fac210eb456ac" compoundref="imd_8c" startline="528" endline="552">IMD_Startup</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Status_Bits</definition>
        <argsstring>(uint8_t Data)</argsstring>
        <name>IMD_Check_Status_Bits</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="213" column="6" bodyfile="Core/Src/imd.c" bodystart="213" bodyend="254"/>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa86fdcb1bb1742680706316d50c9b8fcf" compoundref="imd_8h" startline="52">Error_flags</references>
        <references refid="imd_8h_1acf7b0534a43397021a0e474a499218bea48e3e4678c927a799f113e4688ab7886" compoundref="imd_8h" startline="26">Hardware_Error</references>
        <references refid="imd_8h_1acf7b0534a43397021a0e474a499218bea446905b0f3e9fe48a178f0a6799324b4" compoundref="imd_8h" startline="22">High_Battery_Voltage</references>
        <references refid="imd_8h_1acf7b0534a43397021a0e474a499218bea4c7193d6f28bf43ed6de8e1291917846" compoundref="imd_8h" startline="24">High_Uncertainty</references>
        <references refid="imd_8c_1a208e957d0a18b23cb59f4eedd1c855cc" compoundref="imd_8c" startline="62">IMD_error_flags_requested</references>
        <references refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" compoundref="imd_8c" startline="20">IMD_High_Uncertainty</references>
        <references refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" compoundref="imd_8c" startline="180" endline="191">IMD_Request_Status</references>
        <references refid="imd_8h_1acf7b0534a43397021a0e474a499218beafdb68e8ed34ae72c318cbd4a4d6fc250" compoundref="imd_8h" startline="19">Isolation_status_bit0</references>
        <references refid="imd_8h_1acf7b0534a43397021a0e474a499218bea2d0990734ac774c2740c9e541e8700b3" compoundref="imd_8h" startline="20">Isolation_status_bit1</references>
        <references refid="imd_8h_1acf7b0534a43397021a0e474a499218beacb8278060f1d4f8f423c3f7943618d0a" compoundref="imd_8h" startline="21">Low_Battery_Voltage</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a0cfe9b1a6472c4a5d0ca154a4e9e7bb0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Error_Flags</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Error_Flags</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="257" column="6" bodyfile="Core/Src/imd.c" bodystart="257" bodyend="291"/>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61ae3dc5d0132a955458e722cb04ccd3900" compoundref="imd_8h" startline="76">Err_CH</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a0bab46bce7066da8e52221c8283cccbd" compoundref="imd_8h" startline="71">Err_clock</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61afa71f4893ad7f39c03d991a2eae95368" compoundref="imd_8h" startline="70">Err_temp</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a198b196da46ddeb177a05ed33f363df7" compoundref="imd_8h" startline="74">Err_Vexi</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a22c4b1756e0cf536391cc6e5547470f6" compoundref="imd_8h" startline="73">Err_Vpwr</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a902d14d447c4552ea1f4f1634f2e4a61" compoundref="imd_8h" startline="77">Err_Vx1</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a806c4e5614221c8b239f6620ab7d5d50" compoundref="imd_8h" startline="78">Err_Vx2</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61aeccbe530442099dab4642a4dc399666f" compoundref="imd_8h" startline="75">Err_VxR</references>
        <references refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61aec0ab5944a70662e09e795646e5987ca" compoundref="imd_8h" startline="72">Err_Watchdog</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1af81ff089b3fabafdfa49c3b816ded80e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Isolation_State</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Isolation_State</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="296" column="6" bodyfile="Core/Src/imd.c" bodystart="296" bodyend="307"/>
        <references refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" compoundref="imd_8c" startline="20">IMD_High_Uncertainty</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1adb4d085b7b1f3e5a860c45aa5a404294" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Isolation_Resistances</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Isolation_Resistances</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="312" column="6" bodyfile="Core/Src/imd.c" bodystart="312" bodyend="334"/>
        <references refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" compoundref="imd_8c" startline="20">IMD_High_Uncertainty</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a686301a85070c84e89af3e1cc0a159ae" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Isolation_Capacitances</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Isolation_Capacitances</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="337" column="6" bodyfile="Core/Src/imd.c" bodystart="337" bodyend="341"/>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a0fc857559d80dd701aec763dd6911383" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Voltages_Vp_and_Vn</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Voltages_Vp_and_Vn</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="344" column="6" bodyfile="Core/Src/imd.c" bodystart="344" bodyend="348"/>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1ac94e0b660190e6ce0d376d407627057e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Battery_Voltage</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Battery_Voltage</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="351" column="6" bodyfile="Core/Src/imd.c" bodystart="351" bodyend="356"/>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a1a18f8d11173ee691822b5a712cf1617" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Temperature</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Temperature</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="358" column="6" bodyfile="Core/Src/imd.c" bodystart="358" bodyend="364"/>
        <references refid="imd_8c_1a5b8ada827e9888be105e0bc8c27006f3" compoundref="imd_8c" startline="57">IMD_Temperature</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1abc49be24256f1a93674e290546384348" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Safety_Touch_Energy</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Safety_Touch_Energy</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="369" column="6" bodyfile="Core/Src/imd.c" bodystart="369" bodyend="373"/>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a00c843b8f3e8cf4569ea9008cd7db9d2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Safety_Touch_Current</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Safety_Touch_Current</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="376" column="6" bodyfile="Core/Src/imd.c" bodystart="376" bodyend="378"/>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a6f6abcfa57cc41a7b1249c0157702a1c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Max_Battery_Working_Voltage</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Max_Battery_Working_Voltage</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="388" column="6" bodyfile="Core/Src/imd.c" bodystart="388" bodyend="395"/>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Part_Name</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Part_Name</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="401" column="6" bodyfile="Core/Src/imd.c" bodystart="401" bodyend="441"/>
        <references refid="imd_8c_1a4e45f48e8a434f56675ac3d5879de796" compoundref="imd_8c" startline="26">IMD_Expected_Part_Name</references>
        <references refid="imd_8c_1a10a782cdb04731b5d092fb021edab5f3" compoundref="imd_8c" startline="28">IMD_Part_Name_0_Set</references>
        <references refid="imd_8c_1a479ffaedc92d63ffd670ce28bd246076" compoundref="imd_8c" startline="29">IMD_Part_Name_1_Set</references>
        <references refid="imd_8c_1ac9c5471411ecb29f7447f657747e55f5" compoundref="imd_8c" startline="30">IMD_Part_Name_2_Set</references>
        <references refid="imd_8c_1a33de8b2346fb2365fb32570d16551fb9" compoundref="imd_8c" startline="31">IMD_Part_Name_3_Set</references>
        <references refid="imd_8c_1abfc7f2bfdb786d652f47184917c4e06b" compoundref="imd_8c" startline="32">IMD_Part_Name_Set</references>
        <references refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" compoundref="imd_8c" startline="25">IMD_Read_Part_Name</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea9f7942276dd9e12e41f0463701086e7d" compoundref="imd_8h" startline="84">Part_name_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea6172e87521e48caf627c729daa8b6f59" compoundref="imd_8h" startline="85">Part_name_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea98d7a9f4550631a81ea2c5a4a215a981" compoundref="imd_8h" startline="86">Part_name_2</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea086d70441c24f02a8abceeee41562cde" compoundref="imd_8h" startline="87">Part_name_3</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Version</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Version</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="443" column="6" bodyfile="Core/Src/imd.c" bodystart="443" bodyend="478"/>
        <references refid="imd_8c_1a3996ec9ae905b88cb1ee925f02f14d2b" compoundref="imd_8c" startline="36">IMD_Expected_Version</references>
        <references refid="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" compoundref="imd_8c" startline="35">IMD_Read_Version</references>
        <references refid="imd_8c_1a882acf301b569fbc57a5df71faeedecc" compoundref="imd_8c" startline="38">IMD_Version_0_Set</references>
        <references refid="imd_8c_1a89c19efcdae7b584557b4ef711837af6" compoundref="imd_8c" startline="39">IMD_Version_1_Set</references>
        <references refid="imd_8c_1a462db37dc46e1576e9e615d468fc58ff" compoundref="imd_8c" startline="40">IMD_Version_2_Set</references>
        <references refid="imd_8c_1adef02ad9e41f0d6f9e1f0f694a5d04f7" compoundref="imd_8c" startline="41">IMD_Version_Set</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea5eb2adcd1cb7d65f6c590b6f6b7ee322" compoundref="imd_8h" startline="88">Version_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eafcc458d57f1b3273ae319230922231a4" compoundref="imd_8h" startline="89">Version_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eafb60bb95154ac28254f2e8dfbc82c638" compoundref="imd_8h" startline="90">Version_2</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Serial_Number</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Serial_Number</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="483" column="6" bodyfile="Core/Src/imd.c" bodystart="483" bodyend="522"/>
        <references refid="imd_8c_1ae609b1c80bcf96677b5f57ef1c7b7497" compoundref="imd_8c" startline="46">IMD_Expected_Serial_Number</references>
        <references refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" compoundref="imd_8c" startline="45">IMD_Read_Serial_Number</references>
        <references refid="imd_8c_1a45d76c9654bc38b93b5132911d1a7d9e" compoundref="imd_8c" startline="50">IMD_Serial_Number_0_Set</references>
        <references refid="imd_8c_1aa06ed9ddd147d5411e8f920171a54fc5" compoundref="imd_8c" startline="51">IMD_Serial_Number_1_Set</references>
        <references refid="imd_8c_1a66157fb5f0181e14ef3730b945a70c97" compoundref="imd_8c" startline="52">IMD_Serial_Number_2_Set</references>
        <references refid="imd_8c_1a44410c46ba61bd668ce70bf14f09f451" compoundref="imd_8c" startline="53">IMD_Serial_Number_3_Set</references>
        <references refid="imd_8c_1ac493eb0ec9882a9ff2c6d340707c19e6" compoundref="imd_8c" startline="54">IMD_Serial_Number_Set</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea453d45b6245737d4987dd4b78a2e464a" compoundref="imd_8h" startline="91">Serial_number_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea29cf9ca0d526194e6ce71ff99120ee9e" compoundref="imd_8h" startline="92">Serial_number_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea87fc8ea63ac933e1e441f105dce28cdb" compoundref="imd_8h" startline="93">Serial_number_2</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eaf9d06047340a1a4185e714ca761f891e" compoundref="imd_8h" startline="94">Serial_number_3</references>
        <referencedby refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" compoundref="imd_8c" startline="68" endline="173">IMD_Parse_Message</referencedby>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1ae0177fe52ae013a36014be506fd1fa93" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Check_Uptime</definition>
        <argsstring>(uint8_t Data[])</argsstring>
        <name>IMD_Check_Uptime</name>
        <param>
          <type>uint8_t</type>
          <declname>Data</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="524" column="6" bodyfile="Core/Src/imd.c" bodystart="524" bodyend="526"/>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a80b26177d8aa0c0e803fac210eb456ac" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void IMD_Startup</definition>
        <argsstring>()</argsstring>
        <name>IMD_Startup</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="528" column="6" bodyfile="Core/Src/imd.c" bodystart="528" bodyend="552"/>
        <references refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" compoundref="imd_8c" startline="180" endline="191">IMD_Request_Status</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aabbce6aa84dd484b90a148c9893f29c38" compoundref="imd_8h" startline="34">isolation_state</references>
        <references refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa194e665f65c42e02190f2871ecfd3eed" compoundref="imd_8h" startline="61">Max_battery_working_voltage</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea9f7942276dd9e12e41f0463701086e7d" compoundref="imd_8h" startline="84">Part_name_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea6172e87521e48caf627c729daa8b6f59" compoundref="imd_8h" startline="85">Part_name_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea98d7a9f4550631a81ea2c5a4a215a981" compoundref="imd_8h" startline="86">Part_name_2</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea086d70441c24f02a8abceeee41562cde" compoundref="imd_8h" startline="87">Part_name_3</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea453d45b6245737d4987dd4b78a2e464a" compoundref="imd_8h" startline="91">Serial_number_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea29cf9ca0d526194e6ce71ff99120ee9e" compoundref="imd_8h" startline="92">Serial_number_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea87fc8ea63ac933e1e441f105dce28cdb" compoundref="imd_8h" startline="93">Serial_number_2</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eaf9d06047340a1a4185e714ca761f891e" compoundref="imd_8h" startline="94">Serial_number_3</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674ea5eb2adcd1cb7d65f6c590b6f6b7ee322" compoundref="imd_8h" startline="88">Version_0</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eafcc458d57f1b3273ae319230922231a4" compoundref="imd_8h" startline="89">Version_1</references>
        <references refid="imd_8h_1a975959819df682c9adec7c667028674eafb60bb95154ac28254f2e8dfbc82c638" compoundref="imd_8h" startline="90">Version_2</references>
      </memberdef>
      <memberdef kind="function" id="imd_8c_1a19b4fd879f065cfe6e1b7bb3400cd0c3" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void initIMD</definition>
        <argsstring>(void *args)</argsstring>
        <name>initIMD</name>
        <param>
          <type>void *</type>
          <declname>args</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/imd.c" line="554" column="6" bodyfile="Core/Src/imd.c" bodystart="554" bodyend="566"/>
        <references refid="uvfr__utils_8h_1ad70cbc8929c4ad7a5901cd9eef5ca9b0a8c41c05a63a15c5d188d02f6f4db4303" compoundref="uvfr__utils_8h" startline="207">IMD</references>
        <references refid="structuv__init__task__args_1adec47e7a54822cacfb8fcfc35a22157f" compoundref="uvfr__utils_8h" startline="331">uv_init_task_args::init_info_queue</references>
        <references refid="structuv__init__task__args_1a3b81430245e7f832dc1112e53b0ef7ad" compoundref="uvfr__utils_8h" startline="332">uv_init_task_args::meta_task_handle</references>
        <references refid="uvfr__utils_8h_1a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9" compoundref="uvfr__utils_8h" startline="167">UV_OK</references>
        <referencedby refid="uvfr__utils_8c_1a6d40598f9d8daa89ca159a2e87f4fd01" compoundref="uvfr__utils_8c" startline="39" endline="231">uvInit</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">//<sp/>This<sp/>where<sp/>the<sp/>code<sp/>to<sp/>handle<sp/>IMD<sp/>errors<sp/>and<sp/>such<sp/>will<sp/>go</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="imd_8h" kindref="compound">imd.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>need<sp/>to<sp/>include<sp/>can.h<sp/>because<sp/>we<sp/>will<sp/>send<sp/>CAN<sp/>messages<sp/>through<sp/>the<sp/>functions<sp/>in<sp/>that<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>When<sp/>a<sp/>CAN<sp/>message<sp/>comes<sp/>it<sp/>will<sp/>throw<sp/>an<sp/>interrupt<sp/>can.c<sp/>deals<sp/>with<sp/>the<sp/>incoming<sp/>message</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>function<sp/>in<sp/>can.c<sp/>gets<sp/>the<sp/>ID<sp/>and<sp/>sends<sp/>the<sp/>data<sp/>to<sp/><sp/>the<sp/>functions<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="can_8h" kindref="compound">can.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="main_8h" kindref="compound">main.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="constants_8h" kindref="compound">constants.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="uvfr__utils_8h" kindref="compound">uvfr_utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>need<sp/>to<sp/>include<sp/>pdu.h<sp/>for<sp/>the<sp/>shutdown<sp/>circuit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="pdu_8h" kindref="compound">pdu.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="imd_8c_1a23ac1f047a25cf90d97877c21a7586ff" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a23ac1f047a25cf90d97877c21a7586ff" kindref="member">IMD_status_bits</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="20" refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" kindref="member">IMD_High_Uncertainty</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Declarations<sp/>for<sp/>the<sp/>IMD<sp/>part<sp/>name<sp/>to<sp/>be<sp/>checked<sp/>on<sp/>startup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25" refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" refkind="member"><highlight class="normal">uint32_t<sp/><ref refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" kindref="member">IMD_Read_Part_Name</ref>[4];</highlight></codeline>
<codeline lineno="26" refid="imd_8c_1a4e45f48e8a434f56675ac3d5879de796" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint32_t<sp/><ref refid="imd_8c_1a4e45f48e8a434f56675ac3d5879de796" kindref="member">IMD_Expected_Part_Name</ref>[4];</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="imd_8c_1a10a782cdb04731b5d092fb021edab5f3" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a10a782cdb04731b5d092fb021edab5f3" kindref="member">IMD_Part_Name_0_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="29" refid="imd_8c_1a479ffaedc92d63ffd670ce28bd246076" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a479ffaedc92d63ffd670ce28bd246076" kindref="member">IMD_Part_Name_1_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="30" refid="imd_8c_1ac9c5471411ecb29f7447f657747e55f5" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1ac9c5471411ecb29f7447f657747e55f5" kindref="member">IMD_Part_Name_2_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="31" refid="imd_8c_1a33de8b2346fb2365fb32570d16551fb9" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a33de8b2346fb2365fb32570d16551fb9" kindref="member">IMD_Part_Name_3_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="32" refid="imd_8c_1abfc7f2bfdb786d652f47184917c4e06b" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1abfc7f2bfdb786d652f47184917c4e06b" kindref="member">IMD_Part_Name_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" refkind="member"><highlight class="normal">uint32_t<sp/><ref refid="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" kindref="member">IMD_Read_Version</ref>[3];</highlight></codeline>
<codeline lineno="36" refid="imd_8c_1a3996ec9ae905b88cb1ee925f02f14d2b" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint32_t<sp/><ref refid="imd_8c_1a3996ec9ae905b88cb1ee925f02f14d2b" kindref="member">IMD_Expected_Version</ref>[3];</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38" refid="imd_8c_1a882acf301b569fbc57a5df71faeedecc" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a882acf301b569fbc57a5df71faeedecc" kindref="member">IMD_Version_0_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="39" refid="imd_8c_1a89c19efcdae7b584557b4ef711837af6" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a89c19efcdae7b584557b4ef711837af6" kindref="member">IMD_Version_1_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="40" refid="imd_8c_1a462db37dc46e1576e9e615d468fc58ff" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a462db37dc46e1576e9e615d468fc58ff" kindref="member">IMD_Version_2_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="41" refid="imd_8c_1adef02ad9e41f0d6f9e1f0f694a5d04f7" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1adef02ad9e41f0d6f9e1f0f694a5d04f7" kindref="member">IMD_Version_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Declarations<sp/>for<sp/>the<sp/>IMD<sp/>serial<sp/>number<sp/>to<sp/>be<sp/>checked<sp/>on<sp/>startup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" refkind="member"><highlight class="normal">uint32_t<sp/><ref refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" kindref="member">IMD_Read_Serial_Number</ref>[4];</highlight></codeline>
<codeline lineno="46" refid="imd_8c_1ae609b1c80bcf96677b5f57ef1c7b7497" refkind="member"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>uint32_t<sp/><ref refid="imd_8c_1ae609b1c80bcf96677b5f57ef1c7b7497" kindref="member">IMD_Expected_Serial_Number</ref>[4]<sp/>=<sp/>{0xB8DD9AF9,</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x6094F48B,</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x1F1C3794,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xFCF9A95B};</highlight></codeline>
<codeline lineno="50" refid="imd_8c_1a45d76c9654bc38b93b5132911d1a7d9e" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a45d76c9654bc38b93b5132911d1a7d9e" kindref="member">IMD_Serial_Number_0_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="51" refid="imd_8c_1aa06ed9ddd147d5411e8f920171a54fc5" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1aa06ed9ddd147d5411e8f920171a54fc5" kindref="member">IMD_Serial_Number_1_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="52" refid="imd_8c_1a66157fb5f0181e14ef3730b945a70c97" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a66157fb5f0181e14ef3730b945a70c97" kindref="member">IMD_Serial_Number_2_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="53" refid="imd_8c_1a44410c46ba61bd668ce70bf14f09f451" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a44410c46ba61bd668ce70bf14f09f451" kindref="member">IMD_Serial_Number_3_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="54" refid="imd_8c_1ac493eb0ec9882a9ff2c6d340707c19e6" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1ac493eb0ec9882a9ff2c6d340707c19e6" kindref="member">IMD_Serial_Number_Set</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="imd_8c_1a5b8ada827e9888be105e0bc8c27006f3" refkind="member"><highlight class="normal">int32_t<sp/><ref refid="imd_8c_1a5b8ada827e9888be105e0bc8c27006f3" kindref="member">IMD_Temperature</ref>;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight><highlight class="comment">//<sp/>If<sp/>there<sp/>is<sp/>a<sp/>hardware<sp/>error,<sp/>that<sp/>one<sp/>bit<sp/>will<sp/>be<sp/>a<sp/>1<sp/>in<sp/>the<sp/>status<sp/>bits<sp/>-&gt;<sp/>read<sp/>error<sp/>flags</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">//<sp/>error<sp/>flags<sp/>will<sp/>return<sp/>the<sp/>status<sp/>bits<sp/>which<sp/>will<sp/>have<sp/>a<sp/>1<sp/>in<sp/>HE<sp/>bit<sp/>-&gt;<sp/>infinite<sp/>loop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62" refid="imd_8c_1a208e957d0a18b23cb59f4eedd1c855cc" refkind="member"><highlight class="normal">uint8_t<sp/><ref refid="imd_8c_1a208e957d0a18b23cb59f4eedd1c855cc" kindref="member">IMD_error_flags_requested</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Need<sp/>a<sp/>function<sp/>to<sp/>parse<sp/>the<sp/>CAN<sp/>message<sp/>data<sp/>received<sp/>from<sp/>the<sp/>IMD</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68" refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a1f6181c5ab49d963007eb9a212672bbd" kindref="member">IMD_Parse_Message</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>DLC,<sp/>uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>first<sp/>step<sp/>is<sp/>to<sp/>look<sp/>at<sp/>the<sp/>first<sp/>byte<sp/>to<sp/>figure<sp/>out<sp/>what<sp/>we&apos;re<sp/>looking<sp/>at</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(Data[0]){</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>important<sp/>checks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aabbce6aa84dd484b90a148c9893f29c38" kindref="member">isolation_state</ref>:</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1af81ff089b3fabafdfa49c3b816ded80e" kindref="member">IMD_Check_Isolation_State</ref>(Data);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aac4f56ef8fddf7442d16abdcef0ee35ae" kindref="member">isolation_resistances</ref>:</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1adb4d085b7b1f3e5a860c45aa5a404294" kindref="member">IMD_Check_Isolation_Resistances</ref>(Data);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa1f57f433823678afb675a0118355b41c" kindref="member">isolation_capacitances</ref>:</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a686301a85070c84e89af3e1cc0a159ae" kindref="member">IMD_Check_Isolation_Capacitances</ref>(Data);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aab731b0ae179fe84519337374868be1d1" kindref="member">voltages_Vp_and_Vn</ref>:</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a0fc857559d80dd701aec763dd6911383" kindref="member">IMD_Check_Voltages_Vp_and_Vn</ref>(Data);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa88e842a14bd3662858b52abbefad1680" kindref="member">battery_voltage</ref>:</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ac94e0b660190e6ce0d376d407627057e" kindref="member">IMD_Check_Battery_Voltage</ref>(Data);</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa86fdcb1bb1742680706316d50c9b8fcf" kindref="member">Error_flags</ref>:</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a0cfe9b1a6472c4a5d0ca154a4e9e7bb0" kindref="member">IMD_Check_Error_Flags</ref>(Data);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aae62307414b8266d9beb9dcffc335f504" kindref="member">safety_touch_energy</ref>:</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1abc49be24256f1a93674e290546384348" kindref="member">IMD_Check_Safety_Touch_Energy</ref>(Data);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa64c31deedf3ed7b386711c4c6825456f" kindref="member">safety_touch_current</ref>:</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(Data[1]);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a00c843b8f3e8cf4569ea9008cd7db9d2" kindref="member">IMD_Check_Safety_Touch_Current</ref>(Data);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>high<sp/>resolution<sp/>measurements</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca781dcc0628d7284c0e9e0be67cd3365b" kindref="member">Vn_hi_res</ref>:</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>something</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca6b90089e224b90d87a6cf113e5e36f22" kindref="member">Vp_hi_res</ref>:</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>something</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca65563450695b30beae4032ff330f0e6f" kindref="member">Vexc_hi_res</ref>:</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>something</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca23a10ada814d11a9a1044ede3a821688" kindref="member">Vb_hi_res</ref>:</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>something</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1af8e85b806bce9c9cad944c261ff0aa0ca6d4bdc992b68f8ee4aea88056639af5d" kindref="member">Vpwr_hi_res</ref>:</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>something</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa636f89bb3814dde8c07ec0446f72d28f" kindref="member">Temperature</ref>:</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a1a18f8d11173ee691822b5a712cf1617" kindref="member">IMD_Check_Temperature</ref>(Data);</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa194e665f65c42e02190f2871ecfd3eed" kindref="member">Max_battery_working_voltage</ref>:</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a6f6abcfa57cc41a7b1249c0157702a1c" kindref="member">IMD_Check_Max_Battery_Working_Voltage</ref>(Data);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ugly<sp/>syntax<sp/>below</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea9f7942276dd9e12e41f0463701086e7d" kindref="member">Part_name_0</ref>:</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea6172e87521e48caf627c729daa8b6f59" kindref="member">Part_name_1</ref>:</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea98d7a9f4550631a81ea2c5a4a215a981" kindref="member">Part_name_2</ref>:</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea086d70441c24f02a8abceeee41562cde" kindref="member">Part_name_3</ref>:</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" kindref="member">IMD_Check_Part_Name</ref>(Data);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea5eb2adcd1cb7d65f6c590b6f6b7ee322" kindref="member">Version_0</ref>:</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674eafcc458d57f1b3273ae319230922231a4" kindref="member">Version_1</ref>:</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674eafb60bb95154ac28254f2e8dfbc82c638" kindref="member">Version_2</ref>:</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" kindref="member">IMD_Check_Version</ref>(Data);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea453d45b6245737d4987dd4b78a2e464a" kindref="member">Serial_number_0</ref>:</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea29cf9ca0d526194e6ce71ff99120ee9e" kindref="member">Serial_number_1</ref>:</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea87fc8ea63ac933e1e441f105dce28cdb" kindref="member">Serial_number_2</ref>:</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674eaf9d06047340a1a4185e714ca761f891e" kindref="member">Serial_number_3</ref>:</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" kindref="member">IMD_Check_Serial_Number</ref>(Data);</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674eac87b1e30788367a709363dba4ad7f238" kindref="member">Uptime_counter</ref>:</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>call<sp/>check<sp/>uptime<sp/>counter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>a<sp/>code<sp/>that<sp/>is<sp/>not<sp/>recognized<sp/>(bad)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="main_8h_1a1730ffe1e560465665eb47d9264826f9" kindref="member">Error_Handler</ref>();</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal">}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight><highlight class="comment">//<sp/>--------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>sends<sp/>the<sp/>message<sp/>to<sp/>request<sp/>data.<sp/>The<sp/>specific<sp/>status<sp/>requested<sp/>is<sp/>passed<sp/>as<sp/>arg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>IMD<sp/>will<sp/>then<sp/>send<sp/>a<sp/>message<sp/>with<sp/>the<sp/>same<sp/>code<sp/>and<sp/>the<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight><highlight class="comment">//<sp/>--------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(uint8_t<sp/>Status){</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="constants_8h_1a3e35a666d459f2ac92fc7c35334ff0ff" kindref="member">TxHeader</ref>.IDE<sp/>=<sp/>CAN_ID_EXT;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="constants_8h_1a3e35a666d459f2ac92fc7c35334ff0ff" kindref="member">TxHeader</ref>.ExtId<sp/>=<sp/><ref refid="constants_8h_1a1d489aa29fe8cf552f71b550e8088272a242c64f8aaa09a26d5f586483d692f83" kindref="member">IMD_CAN_ID_Tx</ref>;</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="constants_8h_1a3e35a666d459f2ac92fc7c35334ff0ff" kindref="member">TxHeader</ref>.DLC<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="constants_8h_1af553c31425b32bd9c020380c942ed3bd" kindref="member">TxData</ref>[0]<sp/>=<sp/>Status;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(HAL_CAN_AddTxMessage(&amp;<ref refid="can_8h_1ab77168d14df04ccca5d48612ee21ced8" kindref="member">hcan2</ref>,<sp/>&amp;<ref refid="constants_8h_1a3e35a666d459f2ac92fc7c35334ff0ff" kindref="member">TxHeader</ref>,<sp/><ref refid="constants_8h_1af553c31425b32bd9c020380c942ed3bd" kindref="member">TxData</ref>,<sp/>&amp;<ref refid="constants_8h_1aedd1e4ac418a9697f9f41a2713d49569" kindref="member">TxMailbox</ref>)<sp/>!=<sp/>HAL_OK){</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Transmission<sp/>request<sp/>Error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="main_8h_1a1730ffe1e560465665eb47d9264826f9" kindref="member">Error_Handler</ref>();</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="constants_8h_1a3e35a666d459f2ac92fc7c35334ff0ff" kindref="member">TxHeader</ref>.IDE<sp/>=<sp/>CAN_ID_STD;</highlight></codeline>
<codeline lineno="191"><highlight class="normal">}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight><highlight class="comment">//<sp/>--------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight><highlight class="comment">//<sp/>--------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Functions<sp/>to<sp/>check<sp/>status</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight><highlight class="comment">//<sp/>AFAIK<sp/>the<sp/>IMD<sp/>will<sp/>not<sp/>send<sp/>a<sp/>CAN<sp/>msg<sp/>when<sp/>the<sp/>status<sp/>changes<sp/>-<sp/>we<sp/>need<sp/>to<sp/>constantly<sp/>poll<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight><highlight class="comment">//<sp/>--------------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight><highlight class="comment">//<sp/>A<sp/>lot<sp/>of<sp/>the<sp/>messages<sp/>will<sp/>include<sp/>status<sp/>bits</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Check<sp/>for<sp/>faults</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Then<sp/>check<sp/>what<sp/>the<sp/>error<sp/>is<sp/>to<sp/>display<sp/>it<sp/>for<sp/>driver</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213" refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1ab4e8b5af19cc6d0b08ace9185a542b01" kindref="member">IMD_Check_Status_Bits</ref>(uint8_t<sp/>Data){</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>touch<sp/>energy<sp/>bit<sp/>will<sp/>be<sp/>1<sp/>when<sp/>connected<sp/>to<sp/>batteries</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>High<sp/>uncertainty<sp/>isn&apos;t<sp/>also<sp/>something<sp/>we<sp/>really<sp/>care<sp/>about</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>No<sp/>idea<sp/>about<sp/>excitation<sp/>pulse</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>mask<sp/>=<sp/>0b10001111;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((Data<sp/>&amp;<sp/>mask)<sp/>!=<sp/>0){</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Send<sp/>message<sp/>to<sp/>error<sp/>handler<sp/>to<sp/>shutdown<sp/>car</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Trigger_Shutdown_Circuit();</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((Data<sp/>&amp;<sp/><ref refid="imd_8h_1acf7b0534a43397021a0e474a499218beafdb68e8ed34ae72c318cbd4a4d6fc250" kindref="member">Isolation_status_bit0</ref>)<sp/>||<sp/>(Data<sp/>&amp;<sp/><ref refid="imd_8h_1acf7b0534a43397021a0e474a499218bea2d0990734ac774c2740c9e541e8700b3" kindref="member">Isolation_status_bit1</ref>)){</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Isolation<sp/>fault<sp/>BAD</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Want<sp/>to<sp/>display<sp/>fault<sp/>to<sp/>dash</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="227"><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>is<sp/>only<sp/>passed<sp/>the<sp/>first<sp/>byte<sp/>of<sp/>info<sp/>so<sp/>we<sp/>can&apos;t<sp/>read<sp/>the<sp/>error<sp/>flags</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we<sp/>pass<sp/>the<sp/>entire<sp/>data<sp/>array<sp/>in<sp/>then<sp/>we<sp/>will<sp/>read<sp/>the<sp/>wrong<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Need<sp/>to<sp/>explicitly<sp/>request<sp/>error<sp/>flags<sp/>and<sp/>then<sp/>read<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Use<sp/>a<sp/>bool<sp/>to<sp/>check<sp/>if<sp/>we<sp/>have<sp/>already<sp/>requested<sp/>error<sp/>flags<sp/>otherwise<sp/>it<sp/>will<sp/>request<sp/>repeatedly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Data<sp/>&amp;<sp/><ref refid="imd_8h_1acf7b0534a43397021a0e474a499218bea48e3e4678c927a799f113e4688ab7886" kindref="member">Hardware_Error</ref>){</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>display<sp/>to<sp/>dash</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="imd_8c_1a208e957d0a18b23cb59f4eedd1c855cc" kindref="member">IMD_error_flags_requested</ref>){</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa86fdcb1bb1742680706316d50c9b8fcf" kindref="member">Error_flags</ref>);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a208e957d0a18b23cb59f4eedd1c855cc" kindref="member">IMD_error_flags_requested</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Data<sp/>&amp;<sp/><ref refid="imd_8h_1acf7b0534a43397021a0e474a499218beacb8278060f1d4f8f423c3f7943618d0a" kindref="member">Low_Battery_Voltage</ref>){</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>display<sp/>low<sp/>voltage<sp/>on<sp/>dash</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>HV<sp/>battery<sp/>ever<sp/>throws<sp/>this<sp/>error<sp/>it<sp/>is<sp/>because<sp/>of<sp/>a<sp/>disconnect</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Data<sp/>&amp;<sp/><ref refid="imd_8h_1acf7b0534a43397021a0e474a499218bea446905b0f3e9fe48a178f0a6799324b4" kindref="member">High_Battery_Voltage</ref>){</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>display<sp/>high<sp/>voltage<sp/>on<sp/>dash</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>HV<sp/>battery<sp/>ever<sp/>throws<sp/>this<sp/>error<sp/>it<sp/>is<sp/>bad</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Could<sp/>check<sp/>other<sp/>faults<sp/>we<sp/>don&apos;t<sp/>really<sp/>care<sp/>about</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" kindref="member">IMD_High_Uncertainty</ref><sp/>=<sp/>Data<sp/>&amp;<sp/><ref refid="imd_8h_1acf7b0534a43397021a0e474a499218bea4c7193d6f28bf43ed6de8e1291917846" kindref="member">High_Uncertainty</ref>;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we<sp/>made<sp/>it<sp/>here<sp/>then<sp/>there<sp/>is<sp/>no<sp/>error<sp/>so<sp/>exit<sp/>to<sp/>check<sp/>rest<sp/>of<sp/>message</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal">}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>need<sp/>to<sp/>look<sp/>at<sp/>the<sp/>2nd<sp/>and<sp/>3rd<sp/>bytes<sp/>in<sp/>the<sp/>array<sp/>for<sp/>the<sp/>error<sp/>flags</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="257" refid="imd_8c_1a0cfe9b1a6472c4a5d0ca154a4e9e7bb0" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a0cfe9b1a6472c4a5d0ca154a4e9e7bb0" kindref="member">IMD_Check_Error_Flags</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Need<sp/>to<sp/>check<sp/>the<sp/>bits<sp/>to<sp/>see<sp/>what<sp/>caused<sp/>the<sp/>hardware<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Want<sp/>to<sp/>display<sp/>message<sp/>to<sp/>dash<sp/>for<sp/>safety<sp/>reasons</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>IMD_Error_Flags<sp/>=<sp/>(Data[1]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[2];</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>want<sp/>to<sp/>shutdown<sp/>if<sp/>any<sp/>of<sp/>these<sp/>are<sp/>true</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a902d14d447c4552ea1f4f1634f2e4a61" kindref="member">Err_Vx1</ref>){</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a806c4e5614221c8b239f6620ab7d5d50" kindref="member">Err_Vx2</ref>){</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61ae3dc5d0132a955458e722cb04ccd3900" kindref="member">Err_CH</ref>){</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61aeccbe530442099dab4642a4dc399666f" kindref="member">Err_VxR</ref>){</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a198b196da46ddeb177a05ed33f363df7" kindref="member">Err_Vexi</ref>){</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a22c4b1756e0cf536391cc6e5547470f6" kindref="member">Err_Vpwr</ref>){</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61aec0ab5944a70662e09e795646e5987ca" kindref="member">Err_Watchdog</ref>){</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61a0bab46bce7066da8e52221c8283cccbd" kindref="member">Err_clock</ref>){</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(IMD_Error_Flags<sp/>&amp;<sp/><ref refid="imd_8h_1a4456d255c2ceb447ad52b68087531b61afa71f4893ad7f39c03d991a2eae95368" kindref="member">Err_temp</ref>){</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>print<sp/>to<sp/>dash<sp/>I<sp/>guess</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="291"><highlight class="normal">}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>the<sp/>function<sp/>that<sp/>will<sp/>be<sp/>called<sp/>when<sp/>a<sp/>CAN<sp/>message<sp/>is<sp/>received<sp/>that<sp/>has<sp/>the<sp/>isolation<sp/>state<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296" refid="imd_8c_1af81ff089b3fabafdfa49c3b816ded80e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1af81ff089b3fabafdfa49c3b816ded80e" kindref="member">IMD_Check_Isolation_State</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>isolation<sp/>=<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[3];</highlight></codeline>
<codeline lineno="299"><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>isolation<sp/>is<sp/>less<sp/>than<sp/>500<sp/>Ohms<sp/>/<sp/>volt<sp/>and<sp/>the<sp/>uncertainty<sp/>is<sp/>less<sp/>than<sp/>5%</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>(isolation<sp/>&lt;<sp/>500)<sp/>&amp;&amp;<sp/>(Data[4]<sp/>&lt;=<sp/>5)<sp/>){</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>disable<sp/>shutdown<sp/>circuit<sp/>and<sp/>display<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" kindref="member">IMD_High_Uncertainty</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal">}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Not<sp/>sure<sp/>if<sp/>we<sp/>necessarily<sp/>need<sp/>to<sp/>check<sp/>isolation<sp/>resistances</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight><highlight class="comment">//<sp/>check<sp/>isolation<sp/>state<sp/>will<sp/>be<sp/>much<sp/>more<sp/>important</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>should,<sp/>however,<sp/>check<sp/>this<sp/>on<sp/>startup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="312" refid="imd_8c_1adb4d085b7b1f3e5a860c45aa5a404294" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1adb4d085b7b1f3e5a860c45aa5a404294" kindref="member">IMD_Check_Isolation_Resistances</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>Rp_resistance<sp/>=<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[3];</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>isolation<sp/>resistance<sp/>between<sp/>the<sp/>positive<sp/>terminal<sp/>and<sp/>the<sp/>chassis</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>is<sp/>less<sp/>than<sp/>250<sp/>kOhms<sp/>and<sp/>the<sp/>uncertainty<sp/>is<sp/>less<sp/>than<sp/>5%</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>(Rp_resistance<sp/>&lt;<sp/>250)<sp/>&amp;&amp;<sp/>(Data[4]<sp/>&lt;=<sp/>5)<sp/>){</highlight></codeline>
<codeline lineno="319"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>disable<sp/>shutdown<sp/>circuit<sp/>and<sp/>display<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" kindref="member">IMD_High_Uncertainty</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"></highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>Rn_resistance<sp/>=<sp/>(Data[5]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[6];</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>isolation<sp/>resistance<sp/>between<sp/>the<sp/>negative<sp/>terminal<sp/>and<sp/>the<sp/>chassis</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>is<sp/>less<sp/>than<sp/>250<sp/>kOhms<sp/>and<sp/>the<sp/>uncertainty<sp/>is<sp/>less<sp/>than<sp/>5%</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>(Rn_resistance<sp/>&lt;<sp/>250)<sp/>&amp;&amp;<sp/>(Data[7]<sp/>&lt;=<sp/>5)<sp/>){</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO<sp/>disable<sp/>shutdown<sp/>circuit<sp/>and<sp/>display<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1adc15fc02a3a9fb34afc14ee1ba7434c0" kindref="member">IMD_High_Uncertainty</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="334"><highlight class="normal">}</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337" refid="imd_8c_1a686301a85070c84e89af3e1cc0a159ae" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a686301a85070c84e89af3e1cc0a159ae" kindref="member">IMD_Check_Isolation_Capacitances</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>I<sp/>don&apos;t<sp/>know<sp/>how<sp/>useful<sp/>this<sp/>will<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal">}</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344" refid="imd_8c_1a0fc857559d80dd701aec763dd6911383" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a0fc857559d80dd701aec763dd6911383" kindref="member">IMD_Check_Voltages_Vp_and_Vn</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>could<sp/>potentially<sp/>be<sp/>useful<sp/>on<sp/>startup</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal">}</highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351" refid="imd_8c_1ac94e0b660190e6ce0d376d407627057e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1ac94e0b660190e6ce0d376d407627057e" kindref="member">IMD_Check_Battery_Voltage</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>could<sp/>be<sp/>useful<sp/>to<sp/>compare<sp/>with<sp/>BMS<sp/>and<sp/>make<sp/>sure<sp/>things<sp/>are<sp/>working<sp/>well</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>startup<sp/>function<sp/>really</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal">}</highlight></codeline>
<codeline lineno="357"><highlight class="normal"></highlight></codeline>
<codeline lineno="358" refid="imd_8c_1a1a18f8d11173ee691822b5a712cf1617" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a1a18f8d11173ee691822b5a712cf1617" kindref="member">IMD_Check_Temperature</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>byte<sp/>1-4<sp/>in<sp/>motorola</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a5b8ada827e9888be105e0bc8c27006f3" kindref="member">IMD_Temperature</ref><sp/>=<sp/>(Data[4]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal">}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-----------------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight><highlight class="comment">//<sp/>These<sp/>functions<sp/>could<sp/>check<sp/>to<sp/>see<sp/>if<sp/>stuff<sp/>is<sp/>safe<sp/>to<sp/>touch</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369" refid="imd_8c_1abc49be24256f1a93674e290546384348" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1abc49be24256f1a93674e290546384348" kindref="member">IMD_Check_Safety_Touch_Energy</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>I<sp/>don&apos;t<sp/>really<sp/>know<sp/>how<sp/>to<sp/>make<sp/>use<sp/>of<sp/>these<sp/>functions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal">}</highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"></highlight></codeline>
<codeline lineno="376" refid="imd_8c_1a00c843b8f3e8cf4569ea9008cd7db9d2" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a00c843b8f3e8cf4569ea9008cd7db9d2" kindref="member">IMD_Check_Safety_Touch_Current</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal">}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight><highlight class="comment">//<sp/>----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Data<sp/>that<sp/>could<sp/>be<sp/>checked<sp/>on<sp/>startup<sp/>to<sp/>make<sp/>sure<sp/>everything<sp/>is<sp/>good</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388" refid="imd_8c_1a6f6abcfa57cc41a7b1249c0157702a1c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a6f6abcfa57cc41a7b1249c0157702a1c" kindref="member">IMD_Check_Max_Battery_Working_Voltage</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>uint16_t<sp/>Max_Battery_Voltage<sp/>=<sp/>(Data[1]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[2];</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(Max_Battery_Voltage<sp/>!=<sp/>571){</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Max_Battery_Voltage<sp/>not<sp/>configured<sp/>properly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="394"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal">}</highlight></codeline>
<codeline lineno="396"><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>checks<sp/>the<sp/>part<sp/>name<sp/>of<sp/>the<sp/>IMD<sp/>matches<sp/>expected</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>part<sp/>name<sp/>is<sp/>split<sp/>into<sp/>4<sp/>messages,<sp/>each<sp/>of<sp/>4<sp/>bytes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Because<sp/>it<sp/>is<sp/>split<sp/>over<sp/>4<sp/>messages,<sp/>we<sp/>need<sp/>to<sp/>compare<sp/>only<sp/>once<sp/>we<sp/>have<sp/>read<sp/>all<sp/>messages</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="401" refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a72a595e6320ceeb17de4f7ce2ec66d30" kindref="member">IMD_Check_Part_Name</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>will<sp/>be<sp/>called<sp/>from<sp/>the<sp/>CAN<sp/>msg<sp/>parser</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>will<sp/>get<sp/>the<sp/>array<sp/>of<sp/>data<sp/>bits.<sp/>We<sp/>need<sp/>to<sp/>check<sp/>which<sp/>part<sp/>name</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>then<sp/>store<sp/>the<sp/>4<sp/>bytes<sp/>in<sp/>an<sp/>array<sp/>of<sp/>32<sp/>bit<sp/>int<sp/>to<sp/>compare<sp/>at<sp/>the<sp/>end</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(Data[0]){</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea9f7942276dd9e12e41f0463701086e7d" kindref="member">Part_name_0</ref>:</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" kindref="member">IMD_Read_Part_Name</ref>[0]<sp/>=<sp/>(Data[4]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a10a782cdb04731b5d092fb021edab5f3" kindref="member">IMD_Part_Name_0_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea6172e87521e48caf627c729daa8b6f59" kindref="member">Part_name_1</ref>:</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" kindref="member">IMD_Read_Part_Name</ref>[1]<sp/>=<sp/>(Data[4]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a479ffaedc92d63ffd670ce28bd246076" kindref="member">IMD_Part_Name_1_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea98d7a9f4550631a81ea2c5a4a215a981" kindref="member">Part_name_2</ref>:</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" kindref="member">IMD_Read_Part_Name</ref>[2]<sp/>=<sp/>(Data[4]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ac9c5471411ecb29f7447f657747e55f5" kindref="member">IMD_Part_Name_2_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea086d70441c24f02a8abceeee41562cde" kindref="member">Part_name_3</ref>:</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" kindref="member">IMD_Read_Part_Name</ref>[3]<sp/>=<sp/>(Data[4]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a33de8b2346fb2365fb32570d16551fb9" kindref="member">IMD_Part_Name_3_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="426"><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1a10a782cdb04731b5d092fb021edab5f3" kindref="member">IMD_Part_Name_0_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1a479ffaedc92d63ffd670ce28bd246076" kindref="member">IMD_Part_Name_1_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1ac9c5471411ecb29f7447f657747e55f5" kindref="member">IMD_Part_Name_2_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1a33de8b2346fb2365fb32570d16551fb9" kindref="member">IMD_Part_Name_3_Set</ref>){</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1abfc7f2bfdb786d652f47184917c4e06b" kindref="member">IMD_Part_Name_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1abfc7f2bfdb786d652f47184917c4e06b" kindref="member">IMD_Part_Name_Set</ref>){</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>part<sp/>number<sp/>matches<sp/>expected</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>4;<sp/>++i){</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1a5d147289d7432f5d61d43264c30305fb" kindref="member">IMD_Read_Part_Name</ref>[0]<sp/>!=<sp/><ref refid="imd_8c_1a4e45f48e8a434f56675ac3d5879de796" kindref="member">IMD_Expected_Part_Name</ref>[0]){</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="438"><highlight class="normal"></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal">}</highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
<codeline lineno="443" refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a4a16ede06a18addd7ef3e67be2aaaf3d" kindref="member">IMD_Check_Version</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>will<sp/>be<sp/>called<sp/>from<sp/>the<sp/>CAN<sp/>msg<sp/>parser</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>will<sp/>get<sp/>the<sp/>array<sp/>of<sp/>data<sp/>bits.<sp/>We<sp/>need<sp/>to<sp/>check<sp/>which<sp/>firmware<sp/>version</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>then<sp/>store<sp/>the<sp/>4<sp/>bytes<sp/>in<sp/>an<sp/>array<sp/>of<sp/>32<sp/>bit<sp/>int<sp/>to<sp/>compare<sp/>at<sp/>the<sp/>end</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(Data[0]){</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea5eb2adcd1cb7d65f6c590b6f6b7ee322" kindref="member">Version_0</ref>:</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" kindref="member">IMD_Read_Version</ref>[0]<sp/>=<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a882acf301b569fbc57a5df71faeedecc" kindref="member">IMD_Version_0_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674eafcc458d57f1b3273ae319230922231a4" kindref="member">Version_1</ref>:</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" kindref="member">IMD_Read_Version</ref>[1]<sp/>=<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a89c19efcdae7b584557b4ef711837af6" kindref="member">IMD_Version_1_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674eafb60bb95154ac28254f2e8dfbc82c638" kindref="member">Version_2</ref>:</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" kindref="member">IMD_Read_Version</ref>[2]<sp/>=<sp/>(Data[3]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[1];</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a462db37dc46e1576e9e615d468fc58ff" kindref="member">IMD_Version_2_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="464"><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1a882acf301b569fbc57a5df71faeedecc" kindref="member">IMD_Version_0_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1a89c19efcdae7b584557b4ef711837af6" kindref="member">IMD_Version_1_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1a462db37dc46e1576e9e615d468fc58ff" kindref="member">IMD_Version_2_Set</ref>){</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1adef02ad9e41f0d6f9e1f0f694a5d04f7" kindref="member">IMD_Version_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1adef02ad9e41f0d6f9e1f0f694a5d04f7" kindref="member">IMD_Version_Set</ref>){</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>part<sp/>number<sp/>matches<sp/>expected</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>3;<sp/>++i){</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1ae29a8406dd97227ddcc5615fe44f5da5" kindref="member">IMD_Read_Version</ref>[0]<sp/>!=<sp/><ref refid="imd_8c_1a3996ec9ae905b88cb1ee925f02f14d2b" kindref="member">IMD_Expected_Version</ref>[0]){</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="478"><highlight class="normal">}</highlight></codeline>
<codeline lineno="479"><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>checks<sp/>the<sp/>serial<sp/>number<sp/>of<sp/>the<sp/>IMD<sp/>matches<sp/>expected</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>part<sp/>name<sp/>is<sp/>split<sp/>into<sp/>4<sp/>messages,<sp/>each<sp/>of<sp/>4<sp/>bytes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Because<sp/>it<sp/>is<sp/>split<sp/>over<sp/>4<sp/>messages,<sp/>we<sp/>need<sp/>to<sp/>compare<sp/>only<sp/>once<sp/>we<sp/>have<sp/>read<sp/>all<sp/>messages</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483" refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a6f1e850c527bdf0e1a7cfbc557b8501b" kindref="member">IMD_Check_Serial_Number</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>function<sp/>will<sp/>be<sp/>called<sp/>from<sp/>the<sp/>CAN<sp/>msg<sp/>parser</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>It<sp/>will<sp/>get<sp/>the<sp/>array<sp/>of<sp/>data<sp/>bits.<sp/>We<sp/>need<sp/>to<sp/>check<sp/>which<sp/>serial<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>then<sp/>store<sp/>the<sp/>4<sp/>bytes<sp/>in<sp/>an<sp/>array<sp/>of<sp/>32<sp/>bit<sp/>int<sp/>to<sp/>compare<sp/>at<sp/>the<sp/>end</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>serial<sp/>number<sp/>is<sp/>found<sp/>by<sp/>concatenating<sp/>3<sp/>-<sp/>2<sp/>-<sp/>1<sp/>-0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal"><sp/>(Data[0]){</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea453d45b6245737d4987dd4b78a2e464a" kindref="member">Serial_number_0</ref>:</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" kindref="member">IMD_Read_Serial_Number</ref>[0]<sp/>=<sp/>(Data[1]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[4];</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a45d76c9654bc38b93b5132911d1a7d9e" kindref="member">IMD_Serial_Number_0_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea29cf9ca0d526194e6ce71ff99120ee9e" kindref="member">Serial_number_1</ref>:</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" kindref="member">IMD_Read_Serial_Number</ref>[1]<sp/>=<sp/>(Data[1]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[4];</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aa06ed9ddd147d5411e8f920171a54fc5" kindref="member">IMD_Serial_Number_1_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674ea87fc8ea63ac933e1e441f105dce28cdb" kindref="member">Serial_number_2</ref>:</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" kindref="member">IMD_Read_Serial_Number</ref>[2]<sp/>=<sp/>(Data[1]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[4];</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a66157fb5f0181e14ef3730b945a70c97" kindref="member">IMD_Serial_Number_2_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/><ref refid="imd_8h_1a975959819df682c9adec7c667028674eaf9d06047340a1a4185e714ca761f891e" kindref="member">Serial_number_3</ref>:</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" kindref="member">IMD_Read_Serial_Number</ref>[3]<sp/>=<sp/>(Data[1]<sp/>&lt;&lt;<sp/>24)<sp/>|<sp/>(Data[2]<sp/>&lt;&lt;<sp/>16)<sp/>|<sp/>(Data[3]<sp/>&lt;&lt;<sp/>8)<sp/>|<sp/>Data[4];</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1a44410c46ba61bd668ce70bf14f09f451" kindref="member">IMD_Serial_Number_3_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1a45d76c9654bc38b93b5132911d1a7d9e" kindref="member">IMD_Serial_Number_0_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1aa06ed9ddd147d5411e8f920171a54fc5" kindref="member">IMD_Serial_Number_1_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1a66157fb5f0181e14ef3730b945a70c97" kindref="member">IMD_Serial_Number_2_Set</ref><sp/>&amp;&amp;<sp/><ref refid="imd_8c_1a44410c46ba61bd668ce70bf14f09f451" kindref="member">IMD_Serial_Number_3_Set</ref>){</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="imd_8c_1ac493eb0ec9882a9ff2c6d340707c19e6" kindref="member">IMD_Serial_Number_Set</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="512"><highlight class="normal"></highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1ac493eb0ec9882a9ff2c6d340707c19e6" kindref="member">IMD_Serial_Number_Set</ref>){</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>serial<sp/>number<sp/>matches<sp/>expected</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>4;<sp/>++i){</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="imd_8c_1aae6f18f0f756ae490efe62f09636d4af" kindref="member">IMD_Read_Serial_Number</ref>[i]<sp/>!=<sp/><ref refid="imd_8c_1ae609b1c80bcf96677b5f57ef1c7b7497" kindref="member">IMD_Expected_Serial_Number</ref>[i]){</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//error</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal">}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524" refid="imd_8c_1ae0177fe52ae013a36014be506fd1fa93" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1ae0177fe52ae013a36014be506fd1fa93" kindref="member">IMD_Check_Uptime</ref>(uint8_t<sp/>Data[]){</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal">}</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="528" refid="imd_8c_1a80b26177d8aa0c0e803fac210eb456ac" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a80b26177d8aa0c0e803fac210eb456ac" kindref="member">IMD_Startup</ref>(){</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>TODO</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Run<sp/>check<sp/>for<sp/>serial<sp/>number,<sp/>max<sp/>voltage,<sp/>and<sp/>such</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>first<sp/>check<sp/>is<sp/>the<sp/>serial<sp/>number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea453d45b6245737d4987dd4b78a2e464a" kindref="member">Serial_number_0</ref>);</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea29cf9ca0d526194e6ce71ff99120ee9e" kindref="member">Serial_number_1</ref>);</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea87fc8ea63ac933e1e441f105dce28cdb" kindref="member">Serial_number_2</ref>);</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674eaf9d06047340a1a4185e714ca761f891e" kindref="member">Serial_number_3</ref>);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea5eb2adcd1cb7d65f6c590b6f6b7ee322" kindref="member">Version_0</ref>);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674eafcc458d57f1b3273ae319230922231a4" kindref="member">Version_1</ref>);</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674eafb60bb95154ac28254f2e8dfbc82c638" kindref="member">Version_2</ref>);</highlight></codeline>
<codeline lineno="542"><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea9f7942276dd9e12e41f0463701086e7d" kindref="member">Part_name_0</ref>);</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea6172e87521e48caf627c729daa8b6f59" kindref="member">Part_name_1</ref>);</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea98d7a9f4550631a81ea2c5a4a215a981" kindref="member">Part_name_2</ref>);</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a975959819df682c9adec7c667028674ea086d70441c24f02a8abceeee41562cde" kindref="member">Part_name_3</ref>);</highlight></codeline>
<codeline lineno="547"><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aa194e665f65c42e02190f2871ecfd3eed" kindref="member">Max_battery_working_voltage</ref>);</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="imd_8c_1aeb7c937639c5385f5d2b4e3a4e60250f" kindref="member">IMD_Request_Status</ref>(<ref refid="imd_8h_1a0710286ee4b87e83845bd90c76e5c26aabbce6aa84dd484b90a148c9893f29c38" kindref="member">isolation_state</ref>);</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Can<sp/>check<sp/>further<sp/>things</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal">}</highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="554" refid="imd_8c_1a19b4fd879f065cfe6e1b7bb3400cd0c3" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="imd_8c_1a19b4fd879f065cfe6e1b7bb3400cd0c3" kindref="member">initIMD</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*<sp/>args){</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structuv__init__task__args" kindref="compound">uv_init_task_args</ref>*<sp/>params<sp/>=<sp/>(<ref refid="structuv__init__task__args" kindref="compound">uv_init_task_args</ref>*)<sp/>args;</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structuv__init__task__response" kindref="compound">uv_init_task_response</ref><sp/>response<sp/>=<sp/>{<ref refid="uvfr__utils_8h_1a71c52c44be11d0980910401cb9b5fb9ea93b7493f003cb72e7b6138f2794b58e9" kindref="member">UV_OK</ref>,<ref refid="uvfr__utils_8h_1ad70cbc8929c4ad7a5901cd9eef5ca9b0a8c41c05a63a15c5d188d02f6f4db4303" kindref="member">IMD</ref>,0,NULL};</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/>vTaskDelay(100);<sp/></highlight><highlight class="comment">//Pretend<sp/>to<sp/>be<sp/>doing<sp/>something<sp/>for<sp/>now</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(xQueueSendToBack(params-&gt;<ref refid="structuv__init__task__args_1adec47e7a54822cacfb8fcfc35a22157f" kindref="member">init_info_queue</ref>,&amp;response,100)<sp/>!=<sp/>pdPASS){</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//OOPS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uvPanic(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>enqueue<sp/>IMD<sp/>OK<sp/>Response&quot;</highlight><highlight class="normal">,0);</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/>vTaskSuspend(params-&gt;<ref refid="structuv__init__task__args_1a3b81430245e7f832dc1112e53b0ef7ad" kindref="member">meta_task_handle</ref>);</highlight></codeline>
<codeline lineno="566"><highlight class="normal">}</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="Core/Src/imd.c"/>
  </compounddef>
</doxygen>
