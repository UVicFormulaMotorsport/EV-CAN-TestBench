<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.16">
  <compounddef id="group__state__engine" kind="group">
    <compoundname>state_engine</compoundname>
    <title>State Engine</title>
    <innerclass refid="structstate__change__daemon__args" prot="public">state_change_daemon_args</innerclass>
    <innergroup refid="group__state__engine__api">State Engine API</innergroup>
    <innergroup refid="group__state__engine__backend">State Engine Internals</innergroup>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="group__state__engine_1gac9bd88d7c454ec151183930fce544c9c" prot="public" static="no">
        <type>struct <ref refid="structstate__change__daemon__args" kindref="compound">state_change_daemon_args</ref></type>
        <definition>typedef struct state_change_daemon_args state_change_daemon_args</definition>
        <argsstring></argsstring>
        <name>state_change_daemon_args</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="60" column="25"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="group__state__engine_1gaf070a24ce066297b4a8276ddcb884b0c" prot="public" static="yes" mutable="no">
        <type><ref refid="uvfr__state__engine_8h_1aa6ffd72eb4909ddb38c37a1369e13f09" kindref="member">uv_task_id</ref></type>
        <definition>uv_task_id _next_task_id</definition>
        <argsstring></argsstring>
        <name>_next_task_id</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="25" column="19" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="25" bodyend="-1"/>
        <referencedby refid="group__state__engine__backend_1ga8519c96858b096f2fccb96d3334df93a" compoundref="uvfr__state__engine_8c" startline="868" endline="1041">_stateChangeDaemon</referencedby>
        <referencedby refid="group__state__engine__backend_1gab8a03e5812e395199b3b0003cd8266cb" compoundref="uvfr__state__engine_8c" startline="446" endline="458">killEmAll</referencedby>
        <referencedby refid="group__state__engine__backend_1ga20334b4aff0cfdab7be1d2864089c5ce" compoundref="uvfr__state__engine_8c" startline="1138" endline="1173">uvCreateServiceTask</referencedby>
        <referencedby refid="group__state__engine__api_1ga99bfc92472cdc99e9005e9d3c792909a" compoundref="uvfr__state__engine_8c" startline="249" endline="287">uvCreateTask</referencedby>
        <referencedby refid="group__state__engine__backend_1ga8c1618caac0d7f29836107f1a44833e8" compoundref="uvfr__state__engine_8c" startline="343" endline="356">uvValidateManagedTasks</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga6b49ab568bed9d9189782eebb90545b5" prot="public" static="yes" mutable="no">
        <type><ref refid="structuv__task__info" kindref="compound">uv_task_info</ref> *</type>
        <definition>uv_task_info* _task_register</definition>
        <argsstring></argsstring>
        <name>_task_register</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="26" column="21" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="26" bodyend="-1"/>
        <referencedby refid="group__state__engine__backend_1ga8519c96858b096f2fccb96d3334df93a" compoundref="uvfr__state__engine_8c" startline="868" endline="1041">_stateChangeDaemon</referencedby>
        <referencedby refid="group__state__engine__backend_1gaf342326f88e8accc1efa35e02cdd6c37" compoundref="uvfr__state__engine_8c" startline="308" endline="338">_uvValidateSpecificTask</referencedby>
        <referencedby refid="group__state__engine__backend_1gab8a03e5812e395199b3b0003cd8266cb" compoundref="uvfr__state__engine_8c" startline="446" endline="458">killEmAll</referencedby>
        <referencedby refid="group__state__engine__backend_1ga2e8a31626909ac17be499f2941d359d0" compoundref="uvfr__state__engine_8c" startline="799" endline="854">proccessSCDMsg</referencedby>
        <referencedby refid="group__state__engine__backend_1ga20334b4aff0cfdab7be1d2864089c5ce" compoundref="uvfr__state__engine_8c" startline="1138" endline="1173">uvCreateServiceTask</referencedby>
        <referencedby refid="group__state__engine__api_1ga99bfc92472cdc99e9005e9d3c792909a" compoundref="uvfr__state__engine_8c" startline="249" endline="287">uvCreateTask</referencedby>
        <referencedby refid="group__state__engine__api_1ga5c608f3832c45eac6e2da198d4ef1ba0" compoundref="uvfr__state__engine_8c" startline="151" endline="172">uvInitStateEngine</referencedby>
        <referencedby refid="group__state__engine_1gaff684308203d45e9e16ad3d115c54279" compoundref="uvfr__state__engine_8c" startline="1284" endline="1335">uvSVCTaskManager</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1gae48b13e362d2b9d10ec61f516ea5c09f" prot="public" static="yes" mutable="no">
        <type><ref refid="uvfr__state__engine_8h_1aa6ffd72eb4909ddb38c37a1369e13f09" kindref="member">uv_task_id</ref></type>
        <definition>uv_task_id _next_svc_task_id</definition>
        <argsstring></argsstring>
        <name>_next_svc_task_id</name>
        <initializer>= 0</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="28" column="19" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="28" bodyend="-1"/>
        <referencedby refid="group__state__engine__backend_1ga20334b4aff0cfdab7be1d2864089c5ce" compoundref="uvfr__state__engine_8c" startline="1138" endline="1173">uvCreateServiceTask</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga031bbb86895e7346f4c7c168b36ffbd4" prot="public" static="yes" mutable="no">
        <type><ref refid="structuv__task__info" kindref="compound">uv_task_info</ref> *</type>
        <definition>uv_task_info* _svc_task_register</definition>
        <argsstring></argsstring>
        <name>_svc_task_register</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="29" column="21" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="29" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1gac204f3b14ce9bf370b2e5477dc87afea" prot="public" static="no" mutable="no">
        <type>TaskHandle_t *</type>
        <definition>TaskHandle_t* scd_handle_ptr</definition>
        <argsstring></argsstring>
        <name>scd_handle_ptr</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="31" column="14" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="31" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1gaa11ee7595fe2da14c5949195824179af" prot="public" static="yes" mutable="no">
        <type><ref refid="uvfr__utils_8h_1a0ecf26b576b9a54eca656b9be7ba6a06" kindref="member">bool</ref></type>
        <definition>volatile bool SCD_active</definition>
        <argsstring></argsstring>
        <name>SCD_active</name>
        <initializer>= <ref refid="group__utility__macros_1ga65e9886d74aaee76545e83dd09011727" kindref="member">false</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="34" column="22" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="34" bodyend="-1"/>
        <referencedby refid="group__state__engine__backend_1ga8519c96858b096f2fccb96d3334df93a" compoundref="uvfr__state__engine_8c" startline="868" endline="1041">_stateChangeDaemon</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga6837d935e61f84062544da8971a18560" prot="public" static="yes" mutable="no">
        <type>QueueHandle_t</type>
        <definition>QueueHandle_t state_change_queue</definition>
        <argsstring></argsstring>
        <name>state_change_queue</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="35" column="22" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="35" bodyend="-1"/>
        <referencedby refid="group__state__engine__backend_1ga8519c96858b096f2fccb96d3334df93a" compoundref="uvfr__state__engine_8c" startline="868" endline="1041">_stateChangeDaemon</referencedby>
        <referencedby refid="group__state__engine__backend_1ga5f35b34432afed7f18f91fb8607f096f" compoundref="uvfr__state__engine_8c" startline="715" endline="748">killSelf</referencedby>
        <referencedby refid="group__state__engine__backend_1gad6117850b55ad52be51d93915bcc313c" compoundref="uvfr__state__engine_8c" startline="756" endline="787">suspendSelf</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga168524a5d658247db44217e643b6396f" prot="public" static="no" mutable="no">
        <type><ref refid="structrbtree" kindref="compound">rbtree</ref> *</type>
        <definition>rbtree* task_name_lut</definition>
        <argsstring></argsstring>
        <name>task_name_lut</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="37" column="8" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="37" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga2f58cf65b3566bc390600f877f8bed35" prot="public" static="no" mutable="no">
        <type>enum <ref refid="group__state__engine__api_1ga259abff5a03eaf908dc8f03d99f478e4" kindref="member">uv_vehicle_state_t</ref></type>
        <definition>enum uv_vehicle_state_t vehicle_state</definition>
        <argsstring></argsstring>
        <name>vehicle_state</name>
        <initializer>= <ref refid="group__state__engine__api_1gga259abff5a03eaf908dc8f03d99f478e4afdfc4cdb8c5210e05bdfdc3df51f80ff" kindref="member">UV_BOOT</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="37" column="8" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="39" bodyend="-1"/>
        <referencedby refid="group__state__engine__backend_1ga8519c96858b096f2fccb96d3334df93a" compoundref="uvfr__state__engine_8c" startline="868" endline="1041">_stateChangeDaemon</referencedby>
        <referencedby refid="group__state__engine__api_1gaa3ad3e8df75177c00265881c16563212" compoundref="uvfr__state__engine_8c" startline="86" endline="143">changeVehicleState</referencedby>
        <referencedby refid="daq_8c_1a433bb586ceab47aed8d633fa2ff8ce56" compoundref="daq_8c" startline="62" endline="101">daqMasterTask</referencedby>
        <referencedby refid="group__state__engine__api_1ga2ad1d74b5783a51355c047be6642fab8" compoundref="uvfr__state__engine_8c" startline="179" endline="231">uvStartStateMachine</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga2ce6eef16a78c095592954d2fe68af2e" prot="public" static="no" mutable="no">
        <type>enum <ref refid="group__state__engine__api_1ga259abff5a03eaf908dc8f03d99f478e4" kindref="member">uv_vehicle_state_t</ref></type>
        <definition>enum uv_vehicle_state_t previous_state</definition>
        <argsstring></argsstring>
        <name>previous_state</name>
        <initializer>= <ref refid="group__state__engine__api_1gga259abff5a03eaf908dc8f03d99f478e4afdfc4cdb8c5210e05bdfdc3df51f80ff" kindref="member">UV_BOOT</ref></initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="37" column="8" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="40" bodyend="-1"/>
        <referencedby refid="group__state__engine__api_1gaa3ad3e8df75177c00265881c16563212" compoundref="uvfr__state__engine_8c" startline="86" endline="143">changeVehicleState</referencedby>
        <referencedby refid="group__state__engine__api_1ga2ad1d74b5783a51355c047be6642fab8" compoundref="uvfr__state__engine_8c" startline="179" endline="231">uvStartStateMachine</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga3de41676729241e58688c61c450e4a1e" prot="public" static="no" mutable="no">
        <type><ref refid="structuv__task__info" kindref="compound">uv_task_info</ref> *</type>
        <definition>uv_task_info* task_manager</definition>
        <argsstring></argsstring>
        <name>task_manager</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="42" column="14" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="42" bodyend="-1"/>
        <referencedby refid="group__state__engine__api_1ga5c608f3832c45eac6e2da198d4ef1ba0" compoundref="uvfr__state__engine_8c" startline="151" endline="172">uvInitStateEngine</referencedby>
        <referencedby refid="group__state__engine__api_1ga2ad1d74b5783a51355c047be6642fab8" compoundref="uvfr__state__engine_8c" startline="179" endline="231">uvStartStateMachine</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1ga42329069c59ef55a97a6b0bca0cafd32" prot="public" static="no" mutable="no">
        <type><ref refid="structuv__task__info" kindref="compound">uv_task_info</ref> *</type>
        <definition>uv_task_info* svc_task_manager</definition>
        <argsstring></argsstring>
        <name>svc_task_manager</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="43" column="14" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="43" bodyend="-1"/>
        <referencedby refid="group__state__engine__api_1ga5c608f3832c45eac6e2da198d4ef1ba0" compoundref="uvfr__state__engine_8c" startline="151" endline="172">uvInitStateEngine</referencedby>
        <referencedby refid="group__state__engine__api_1ga2ad1d74b5783a51355c047be6642fab8" compoundref="uvfr__state__engine_8c" startline="179" endline="231">uvStartStateMachine</referencedby>
      </memberdef>
      <memberdef kind="variable" id="group__state__engine_1gad9e02be6d2d0bc1ab5cd9fd8cae34230" prot="public" static="no" mutable="no">
        <type><ref refid="structuv__os__settings" kindref="compound">uv_os_settings</ref></type>
        <definition>uv_os_settings default_os_settings</definition>
        <argsstring></argsstring>
        <name>default_os_settings</name>
        <initializer>={
		.svc_task_manager_period = 50,
		.task_manager_period = 50,
		.max_svc_task_period = 250,
		.max_task_period = 500,

}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="45" column="16" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="45" bodyend="-1"/>
        <referencedby refid="uvfr__settings_8c_1a42f7a1907bfe84d7b0f9fb4e2260018b" compoundref="uvfr__settings_8c" startline="42" endline="49">setupDefaultSettings</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="group__state__engine_1gaff684308203d45e9e16ad3d115c54279" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void uvSVCTaskManager</definition>
        <argsstring>(void *args)</argsstring>
        <name>uvSVCTaskManager</name>
        <param>
          <type>void *</type>
          <declname>args</declname>
        </param>
        <briefdescription>
<para>oversees all of the service tasks, and makes sure that theyre alright </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
<para>Start all of the service tasks. This involves allocating neccessary memory, setting the appropriate task parameters, and saying &quot;fuck it we ball&quot; and adding the tasks to the central task tracking data structure.</para>
<para>Now we deinitialize the svcTaskManager. This is done by doing the following:<itemizedlist>
<listitem><para>actually shut down the svc tasks</para>
</listitem><listitem><para>double check that the tasks have acually shut down</para>
</listitem><listitem><para>if any svc tasks are resisting nature&apos;s call, they will be shut down forcibly</para>
</listitem><listitem><para>deallocate data structures specific to <computeroutput>uvSVCTaskManager</computeroutput> </para>
</listitem></itemizedlist>
</para>
<para>Lovely times for all</para>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="1284" column="6" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="1284" bodyend="1335" declfile="Core/Src/uvfr_state_engine.c" declline="55" declcolumn="6"/>
        <references refid="uvfr__utils_8h_1a92b5ac44171d49acd084c274385a043a" compoundref="uvfr__utils_8c" startline="263" endline="277">__uvInitPanic</references>
        <references refid="group__state__engine_1ga6b49ab568bed9d9189782eebb90545b5" compoundref="uvfr__state__engine_8c" startline="26">_task_register</references>
        <references refid="structuv__task__info_1ab24dea3bde4de2d839bf15e65c2df0d6" compoundref="uvfr__state__engine_8h" startline="239">uv_task_info::active_states</references>
        <references refid="can_8h_1a8258cafd2b5e0bfb1e4228e7a45750bf" compoundref="can_8h" startline="40">CAN_TX_DAEMON_NAME</references>
        <references refid="can_8h_1a2357e197a9ac26277eec808769fe409f" compoundref="can_8c" startline="358" endline="405">CANbusTxSvcDaemon</references>
        <references refid="structuv__task__info_1afcd240d2b6b01b4acea600ef4dfe8fbc" compoundref="uvfr__state__engine_8h" startline="216">uv_task_info::task_function</references>
        <references refid="structtask__management__info_1a29b374b2d26cc5a52c75160816da83aa" compoundref="uvfr__state__engine_8h" startline="155">task_management_info::task_handle</references>
        <references refid="structuv__task__info_1ad24b438130bb3098ee5e855222dff21d" compoundref="uvfr__state__engine_8h" startline="211">uv_task_info::task_name</references>
        <references refid="group__state__engine__backend_1ga20334b4aff0cfdab7be1d2864089c5ce" compoundref="uvfr__state__engine_8c" startline="1138" endline="1173">uvCreateServiceTask</references>
        <references refid="group__state__engine__backend_1ga15cdf09b5625c2ba29a6c6d5c96214dc" compoundref="uvfr__state__engine_8c" startline="365" endline="431">uvStartTask</references>
        <referencedby refid="group__state__engine__api_1ga2ad1d74b5783a51355c047be6642fab8" compoundref="uvfr__state__engine_8c" startline="179" endline="231">uvStartStateMachine</referencedby>
      </memberdef>
      </sectiondef>
      <sectiondef kind="define">
      <memberdef kind="define" id="group__state__engine_1ga8a80fe70c2d06583bbcd00c5162860c5" prot="public" static="no">
        <name>MAX_NUM_MANAGED_TASKS</name>
        <initializer>16</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Core/Src/uvfr_state_engine.c" line="20" column="9" bodyfile="Core/Src/uvfr_state_engine.c" bodystart="20" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Module containing all of the functions needed for the vehicle state machine to work. </para>
    </briefdescription>
    <detaileddescription>
<para>The state-engine is mission critical code for doing the following:<itemizedlist>
<listitem><para>Providing a state machine for the vehicle</para>
</listitem><listitem><para>Providing infrastructure neccessary for the vehicle to change state, and behaving as a parent to all the RTOS tasks</para>
</listitem><listitem><para>Providing an API to hide the nitty-gritty of interfacing with the operating system, mitigating race conditions, etc... </para>
</listitem></itemizedlist>
</para>
    </detaileddescription>
  </compounddef>
</doxygen>
